# üéâ –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ API

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. üì± –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π:

#### **–°–æ—Ü—Å–µ—Ç–∏** (`/profile/social`)
- ‚úÖ **API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: `telegramAPI.getSocialLinks()`, `telegramAPI.connectAccount()`, `telegramAPI.deleteSocialLink()`
- ‚úÖ **Telegram API**: –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ `telegramAPI.searchUser()`
- ‚úÖ **–°–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏**: Loading, Error, Success
- ‚úÖ **Fallback**: –ú–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ API
- ‚úÖ **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: Toast —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π

#### **–ü–æ–¥–¥–µ—Ä–∂–∫–∞** (`/support`)
- ‚úÖ **API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: `supportAPI.getMessages()`, `supportAPI.sendMessage()`
- ‚úÖ **–°–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏**: Loading, Error
- ‚úÖ **Fallback**: –õ–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: Toast —Å–æ–æ–±—â–µ–Ω–∏—è

#### **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** (`/notifications`)
- ‚úÖ **API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: `usersAPI.getNotifications()`, `usersAPI.markNotificationRead()`, `usersAPI.markAllNotificationsRead()`
- ‚úÖ **–°–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏**: Loading, Error
- ‚úÖ **Fallback**: –ú–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ API
- ‚úÖ **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: Toast —Å–æ–æ–±—â–µ–Ω–∏—è

#### **–ü–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞** (`/affiliate`)
- ‚úÖ **API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: `affiliateAPI.getReferralStats()`, `affiliateAPI.getReferrals()`
- ‚úÖ **–°–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏**: Loading, Error
- ‚úÖ **Fallback**: –ú–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ API
- ‚úÖ **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: Toast —Å–æ–æ–±—â–µ–Ω–∏—è

### 2. üîó –î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ API endpoints:

#### **Telegram API** (–Ω–æ–≤—ã–π –º–æ–¥—É–ª—å)
```javascript
GET  /api/telegram/user/:id          - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
GET  /api/telegram/user/:id/photo    - –§–æ—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
GET  /api/telegram/search/:username  - –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
POST /api/telegram/verify/:id        - –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
POST /api/social/connect             - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å–æ—Ü—Å–µ—Ç–∏
GET  /api/social/links               - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫
PUT  /api/social/links/:id           - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏
DELETE /api/social/links/:id         - –£–¥–∞–ª–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏
```

#### **–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ API**
- ‚úÖ **Support API**: `sendMessage()`, `getMessages()`
- ‚úÖ **Users API**: `getNotifications()`, `markNotificationRead()`, `markAllNotificationsRead()`
- ‚úÖ **Affiliate API**: `getReferralStats()`, `getReferrals()`, `getCommissions()`, `requestPayout()`, `getPayoutHistory()`

### 3. üöÄ Telegram API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:

#### **–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID:**
```javascript
// –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
const userInfo = await telegramAPI.getUserInfo(telegramId)

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Ñ–æ—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
const userPhoto = await telegramAPI.getUserPhoto(telegramId)

// –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ username
const searchResult = await telegramAPI.searchUser('username')
```

#### **–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
```javascript
await telegramAPI.verifyUser(telegramId, {
  firstName: '–ò–º—è',
  lastName: '–§–∞–º–∏–ª–∏—è',
  username: '@username',
  photoUrl: 'https://...'
})
```

### 4. üìä –°–æ—Å—Ç–æ—è–Ω–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:

#### **–í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–º–µ—é—Ç:**
- ‚úÖ **Loading —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: –°–ø–∏–Ω–Ω–µ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ **Error —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ —Å –∫–Ω–æ–ø–∫–æ–π "–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞"
- ‚úÖ **Fallback –¥–∞–Ω–Ω—ã–µ**: –ú–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API
- ‚úÖ **Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: –£—Å–ø–µ—Ö/–æ—à–∏–±–∫–∞ –¥–ª—è –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π
- ‚úÖ **Retry –º–µ—Ö–∞–Ω–∏–∑–º**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –∑–∞–ø—Ä–æ—Å

### 5. üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:

#### **–§–∞–π–ª —Å API endpoints:**
```
/Users/evochka/Desktop/Unpacker Clone/frontend/src/lib/api.ts
```

#### **–î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏:**
- `telegramAPI` - –†–∞–±–æ—Ç–∞ —Å Telegram API
- –û–±–Ω–æ–≤–ª–µ–Ω—ã: `supportAPI`, `usersAPI`, `affiliateAPI`

#### **–ò–º–ø–æ—Ä—Ç—ã –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö:**
```javascript
import { telegramAPI } from '@/lib/api'
import { supportAPI } from '@/lib/api'
import { usersAPI } from '@/lib/api'
import { affiliateAPI } from '@/lib/api'
import toast from 'react-hot-toast'
```

### 6. ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

#### **–°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
```bash
npm run build
# ‚úÖ –£—Å–ø–µ—à–Ω–æ —Å–æ–±—Ä–∞–Ω–æ –±–µ–∑ –æ—à–∏–±–æ–∫
```

#### **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü:**
- ‚úÖ `/profile/social` - –°–æ—Ü—Å–µ—Ç–∏
- ‚úÖ `/support` - –ü–æ–¥–¥–µ—Ä–∂–∫–∞  
- ‚úÖ `/notifications` - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- ‚úÖ `/affiliate` - –ü–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞
- ‚úÖ `/statistics` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (—É–∂–µ –±—ã–ª–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —Ä–∞–Ω–µ–µ)

### 7. üéØ API –∑–∞–ø—Ä–æ—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è:

#### **–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü:**
```javascript
// –°–æ—Ü—Å–µ—Ç–∏
GET /api/social/links

// –ü–æ–¥–¥–µ—Ä–∂–∫–∞
GET /api/support/messages

// –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
GET /api/users/notifications

// –ü–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞
GET /api/affiliate/stats
GET /api/affiliate/referrals
```

#### **–ü—Ä–∏ –¥–µ–π—Å—Ç–≤–∏—è—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
```javascript
// –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å–æ—Ü—Å–µ—Ç–∏
POST /api/social/connect

// –ü–æ–∏—Å–∫ –≤ Telegram
GET /api/telegram/search/:username

// –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É
POST /api/support/message

// –û—Ç–º–µ—Ç–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∫–∞–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ–≥–æ
PUT /api/users/notifications/:id/read
```

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

### **–í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å API –∏ –≥–æ—Ç–æ–≤—ã –∫ —Ä–∞–±–æ—Ç–µ —Å —Å–µ—Ä–≤–µ—Ä–æ–º.**

### **Telegram API –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–º–µ–Ω–∏ –∏ —Ñ–æ—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID.**

### **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –∏ –≥–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é.**
