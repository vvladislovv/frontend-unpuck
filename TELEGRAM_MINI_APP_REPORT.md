# üöÄ Telegram Mini App - –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

## ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

### 1. üì± **Telegram WebApp SDK –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `@twa-dev/sdk`
- ‚úÖ –°–æ–∑–¥–∞–Ω `TelegramProvider` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `useTelegram` —Ö—É–∫–æ–º
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–º (—Å–≤–µ—Ç–ª–∞—è/—Ç–µ–º–Ω–∞—è)
- ‚úÖ Haptic feedback (–≤–∏–±—Ä–∞—Ü–∏—è)
- ‚úÖ –ö–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥" –∏ "–ì–ª–∞–≤–Ω–∞—è"

### 2. üîó **Telegram API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Ñ–æ—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ username
- ‚úÖ –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–º–∏ —Å—Å—ã–ª–∫–∞–º–∏

### 3. üéØ **–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å Telegram API:**

#### **–ü—Ä–æ—Ñ–∏–ª—å** (`/profile`)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Telegram
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–º–µ–Ω–∏, —Ñ–æ—Ç–æ, username
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Telegram Premium —Å—Ç–∞—Ç—É—Å–∞
- ‚úÖ Haptic feedback –ø—Ä–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏

#### **–°–æ—Ü—Å–µ—Ç–∏** (`/profile/social`)
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ Telegram API
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–π
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–º–∏ —Å—Å—ã–ª–∫–∞–º–∏
- ‚úÖ –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∞–∫–∫–∞—É–Ω—Ç–æ–≤

#### **–ü–æ–¥–¥–µ—Ä–∂–∫–∞** (`/support`)
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π —á–µ—Ä–µ–∑ API
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

#### **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** (`/notifications`)
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ API
- ‚úÖ –û—Ç–º–µ—Ç–∫–∞ –∫–∞–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏

#### **–ü–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞** (`/affiliate`)
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —á–µ—Ä–µ–∑ API
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Ñ–µ—Ä–∞–ª–∞–º–∏
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –∫–æ–º–∏—Å—Å–∏–π

### 4. üõ† **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**

#### **TelegramProvider** (`src/components/providers/telegram-provider.tsx`)
```typescript
// –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- user: TelegramUser | null
- webApp: TelegramWebApp | null
- theme: 'light' | 'dark'
- haptic: HapticFeedback
- showAlert, showConfirm, showPopup
- openLink, sendData, close
```

#### **useTelegramAPI** —Ö—É–∫ (`src/hooks/use-telegram-api.ts`)
```typescript
// API —Ñ—É–Ω–∫—Ü–∏–∏:
- getUserData() - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- getUserPhoto() - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ñ–æ—Ç–æ
- searchUser() - –ø–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- verifyUser() - –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
- connectSocial() - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å–æ—Ü—Å–µ—Ç–∏
- getSocialLinks() - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫
- updateSocialLink() - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏
- deleteSocialLink() - —É–¥–∞–ª–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏
```

### 5. üìä **API Endpoints –¥–ª—è Telegram:**

```javascript
// Telegram API
GET  /api/telegram/user/:id          - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
GET  /api/telegram/user/:id/photo    - –§–æ—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
GET  /api/telegram/search/:username  - –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
POST /api/telegram/verify/:id        - –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

// Social API
POST /api/social/connect             - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å–æ—Ü—Å–µ—Ç–∏
GET  /api/social/links               - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫
PUT  /api/social/links/:id           - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏
DELETE /api/social/links/:id         - –£–¥–∞–ª–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏
```

### 6. üé® **Telegram Mini App —Ñ—É–Ω–∫—Ü–∏–∏:**

#### **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:**
- ‚úÖ `tg.ready()` - –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ `tg.expand()` - —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ–º—ã
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥"

#### **Haptic Feedback:**
- ‚úÖ `impactOccurred()` - —Ç–∞–∫—Ç–∏–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
- ‚úÖ `notificationOccurred()` - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- ‚úÖ `selectionChanged()` - –≤—ã–±–æ—Ä —ç–ª–µ–º–µ–Ω—Ç–æ–≤

#### **UI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
- ‚úÖ –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ —Ç–µ–º—É Telegram
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ü–≤–µ—Ç–æ–≤–æ–π —Å—Ö–µ–º—ã
- ‚úÖ Responsive –¥–∏–∑–∞–π–Ω
- ‚úÖ –ú–æ–±–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### 7. üîß **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è Telegram Bot:**

#### **–í BotFather:**
```
/setmenubutton
- Button text: "–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"
- URL: https://yourdomain.com
```

#### **–í –∫–æ–¥–µ –±–æ—Ç–∞:**
```javascript
// –°–æ–∑–¥–∞–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è Mini App
const keyboard = {
  inline_keyboard: [[
    {
      text: "üõç –û—Ç–∫—Ä—ã—Ç—å –º–∞–≥–∞–∑–∏–Ω",
      web_app: { url: "https://yourdomain.com" }
    }
  ]]
}
```

### 8. üì± **–ì–æ—Ç–æ–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è Telegram Mini App:**

1. **–ì–ª–∞–≤–Ω–∞—è** (`/`) - –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤
2. **–°–¥–µ–ª–∫–∏** (`/deals`) - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∫—É–ø–∫–∞–º–∏
3. **–ü—Ä–æ—Ñ–∏–ª—å** (`/profile`) - –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
4. **–°–æ—Ü—Å–µ—Ç–∏** (`/profile/social`) - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–æ–≤
5. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞** (`/support`) - –ß–∞—Ç —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π
6. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** (`/notifications`) - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
7. **–ü–∞—Ä—Ç–Ω–µ—Ä–∫–∞** (`/affiliate`) - –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞
8. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** (`/statistics`) - –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
9. **–ê–¥–º–∏–Ω–∫–∞** (`/admin`) - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (–¥–ª—è –∞–¥–º–∏–Ω–æ–≤)

### 9. üöÄ **–ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å:**

#### **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞:**
```bash
npm run dev
# –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000
```

#### **–ü—Ä–æ–¥–∞–∫—à–Ω:**
```bash
npm run build
npm run start
# –î–µ–ø–ª–æ–π –Ω–∞ https://yourdomain.com
```

#### **Telegram Bot –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
```javascript
// –í –≤–∞—à–µ–º –±–æ—Ç–µ
bot.command('start', (ctx) => {
  ctx.reply('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!', {
    reply_markup: {
      inline_keyboard: [[
        {
          text: "üõç –û—Ç–∫—Ä—ã—Ç—å –º–∞–≥–∞–∑–∏–Ω",
          web_app: { url: "https://yourdomain.com" }
        }
      ]]
    }
  })
})
```

### 10. ‚úÖ **–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

**–í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å Telegram API –∏ –≥–æ—Ç–æ–≤—ã –∫ —Ä–∞–±–æ—Ç–µ –∫–∞–∫ Mini App –≤ Telegram!**

**–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
- –ü–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ Telegram
- –ê–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ —Ç–µ–º—É Telegram
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç haptic feedback
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ–±—Ä–∞—Ç–Ω–æ –≤ Telegram
- –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
